<h4 class="bg-light text-center p-2">Employee Management System</h4>
<div class="container">
    <div class="row mb-4">
        <div class="card">
          <div class="card-header">
            <h6 class="mb-0">Employee List</h6>
          </div>
          
          <div class="card-body p-3">
            <div class="table-responsive">
              <table class="table table-bordered">
                <thead class="bg-light">
                  <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Postion</th>
                    <th>Department</th>
                    <th>Performance_Rating</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                    
                  @for (item of employeeList; track $index) {
                    <tr>
                      <td>{{$index + 1}}</td>
                      <td>{{item.name}}</td>
                      <td>{{item.postion}}</td>
                      <td>{{item.department}}</td>
                      <td>{{item.performance_rating}}</td>
                      <td class="text-center">
                        <button class="btn btn-primary btn-sm" (click)="onEdit(item)">EDIT</button>
                        <button class="btn btn-danger btn-sm mx-2" (click)="onDelete(item.empId)">DELETE</button>
                      </td>
                    </tr>
                  }
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <div class="card-header">
            <h6>New Employee</h6>
            <div class="search-employees col-6">
                <input type="search" class="form-control" placeholder="Search here"
                (input)="searchEmployees(searchInput.value)" #searchInput>
            </div>
          </div>
          <div class="card-body">
            <form [formGroup]="employeeForm">
              <div>
                
                <div class="col-6">
                  <label for="name" class="form-label"><b>name</b></label>
                  <input type="text" id="name" formControlName="name" class="form-control" required>
                  <div class="text-danger">
                    @if (employeeForm.controls['name'].touched) {
                      @if (employeeForm.controls['name'].errors?.['required']) {
                        <span>Name is Reuired</span>
                      }
                    }
                  </div>
                </div>
                <div class="col-6">
                  <label for="postion" class="form-label" ><b>postion</b></label>
                  <input type="text" id="postion" formControlName="postion" class="form-control" required>
                  <div class="text-danger">
                    @if (employeeForm.controls['postion'].touched) {
                      @if (employeeForm.controls['postion'].errors?.['required']) {
                        <span>postion is Reuired</span>
                      }
                    }
                  </div>
                </div>
                <div class="col-6">
                  <label for="department" class="form-label"><b>department</b></label>
                  <input type="text" id="department" formControlName="department" class="form-control">
                </div>
                <div class="col-6">
                  <label for="performance_rating" class="form-label"><b>performance_rating</b></label>
                  <input type="number" id="performance_rating" formControlName="performance_rating" min="1" max="5" class="form-control">
                </div>
         
              </div>
              <div class="row mt-2">
                <div class="col-6 text-center">
                  <button type="reset" class="btn btn-secondary w-100" type="button" (click)="reset()">RESET</button>
                </div>
                <div class="col-6 text-center">
                  @if (employeeForm.controls['empId'].value == '1') {
                    <button type="button" class="btn btn-success w-100" [disabled]="employeeForm.invalid" (click)="onSave()">ADD EMP</button>
                  } @else {
                    <button type="button" class="btn btn-warning w-100" [disabled]="employeeForm.invalid" (click)="onUpdate()">UPDATE EMP</button>
                  }
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
</div>


  


  